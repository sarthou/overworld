<html lang="en_US">

<head>
  <title>Apply a texture : Describe your environment</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/overworld_api.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/overworld" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/overworld.png " alt="overworld" width="53px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://www.youtube.com/watch?v=LUkjts8UacI" target="_blank" rel="noopener noreferrer">Demo video</a></li>
        <li><a href="https://sarthou.github.io/ontologenius/index.html" target="_blank" rel="noopener noreferrer">Ontologenius</a></li>
        <li><a href="https://github.com/sarthou/overworld/actions" target="_blank" rel="noopener noreferrer">Pipelines</a></li>
      </ul>
      <h1>Overworld Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: -270px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="CreateSimpleModel.html">1. Create a simple model</a></li>
            <li class="level1"><a href="DescribeYourObject.html">2. Describe your object</a></li>
            <li class="level1"><a href="MakeItSpawn.html">3. Make it spawn</a></li>
            <li class="level1"><a href="CreateTexture.html">4. Create a texture</a></li>
            <li class="level1"><a href="ApplyTexture.html"><b>5. Apply a texture</b></a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1"><a href="../../InstallOverworld.html">Install Overworld</a></li>
            <li class="level1"><a href="../../AvailableModules.html">Available modules</a></li>
            <li class="level1"><a href="../Tutorials.html">Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/Configuration.html">Configuration</a></li>
            <li class="level1"><a href="../../overview/Plugins.html">Plugins</a></li>
            <li class="level1"><a href="../../overview/bulletGUI.html">Bullet GUI</a></li>
          </ul>
        </div>

      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Describe your environment</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">There is no place like 127.0.0.1</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Apply a texture</h1>

        <p>We have previously made an image texture for our frame.
           Now we will see how to use it with Overworld.
        </p>

        <h2>Use the Material Template Library</h2>

        <p>When we create an OBJ mesh, we have seen that an MTL is created as well.
           This file can directly contain colors but as we saw before, Bullet is not able to load them.
           Another possibility is to contain a link toward an image texture and that's exactly what we did just before.
        </p>

        <p>As we have overwritten our previous meshes, let's try to launch Overworld without any additional modifications.</p>

        <div class="code_block">
          <div class="terminal_line">roscore</div>
          <div class="terminal_line">roslaunch overworld_tutorials eve_publisher.launch</div>
          <div class="terminal_line">rosrun overworld teleop</div>
          <div class="terminal_line">roslaunch overworld_tutorials ontologenius.launch</div>
          <div class="terminal_line">roslaunch overworld_tutorials overworld.launch</div>
        </div>

        <p>Moving once again the robot aside, you should have something like below.</p>

        <img src="../../images/Tutorials/tutorial2/bullet_with_obj_texture.png" alt="tutorial 2 bullet with obj texture" width="60%" class="center"/>

        <p>From there, we can see that the OBJ meshes now have a texture! 
           However, the STL meshes don't have any texture as they do not embed any texture data...
        </p>

        <p>The second thing to be noticed is that the farme_green (the one shifted on Y) is no more green even if it is described as being green in the ontology.
           Indeed, if a texture is available in the MTL, Overworld will consider the texture first.
        </p>

        <h2>Using the ontology</h2>

        <p>For your applications, you may need to use a single mesh with different textures depending on the used instance. 
           To do so, you can directly use the ontology to inform Overworld about the textures to apply, in the same way we did for the meshes.
        </p>

        <p>Replace the previous individuals with the following.</p>

        <div class="code_block xml_code" style="counter-reset:code_line 0;">
          <div class="code_line">    <span class="xml_comment">&lt;!-- env#frame_obj --&gt;</span></div>
          <div class="code_line">    </div>
          <div class="code_line">    &lt;<span class="xml_tag">owl:NamedIndividual</span> <span class="xml_param">rdf:about</span>=<span class="xml_string">&quot;env#frame_obj&quot;</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">rdf:type</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;env#Frame&quot;</span>/&gt;</div>
          <div class="code_line">    &lt;/<span class="xml_tag">owl:NamedIndividual</span>&gt;</div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    <span class="xml_comment">&lt;!-- env#frame_stl --&gt;</span></div>
          <div class="code_line">    </div>
          <div class="code_line">    &lt;<span class="xml_tag">owl:NamedIndividual</span> <span class="xml_param">rdf:about</span>=<span class="xml_string">&quot;env#frame_stl&quot;</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">rdf:type</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;env#Frame&quot;</span>/&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasMesh</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame.stl&lt;/<span class="xml_tag">cg_entities:hasMesh</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasTexture</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame.png&lt;/<span class="xml_tag">cg_entities:hasTexture</span>&gt;</div>
          <div class="code_line">    &lt;/<span class="xml_tag">owl:NamedIndividual</span>&gt;</div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    <span class="xml_comment">&lt;!-- env#frame_green --&gt;</span></div>
          <div class="code_line">    </div>
          <div class="code_line">    &lt;<span class="xml_tag">owl:NamedIndividual</span> <span class="xml_param">rdf:about</span>=<span class="xml_string">&quot;env#frame_green&quot;</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">rdf:type</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;env#Frame&quot;</span>/&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasMesh</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame_base.obj&lt;/<span class="xml_tag">cg_entities:hasMesh</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasTexture</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame.png&lt;/<span class="xml_tag">cg_entities:hasTexture</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasColor</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;cg_entities#green&quot;</span>/&gt;</div>
          <div class="code_line">    &lt;/<span class="xml_tag">owl:NamedIndividual</span>&gt;</div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    </div>
          <div class="code_line">    <span class="xml_comment">&lt;!-- env#frame_red --&gt;</span></div>
          <div class="code_line">    </div>
          <div class="code_line">    &lt;<span class="xml_tag">owl:NamedIndividual</span> <span class="xml_param">rdf:about</span>=<span class="xml_string">&quot;env#frame_red&quot;</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">rdf:type</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;env#Frame&quot;</span>/&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasMesh</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame.stl&lt;/<span class="xml_tag">cg_entities:hasMesh</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasTexture</span> <span class="xml_param">rdf:datatype</span>=<span class="xml_string">&quot;http://www.w3.org/2001/XMLSchema#string&quot;</span>&gt;package://overworld_tutorials/models/frame.png&lt;/<span class="xml_tag">cg_entities:hasTexture</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">cg_entities:hasColor</span> <span class="xml_param">rdf:resource</span>=<span class="xml_string">&quot;cg_entities#red&quot;</span>/&gt;</div>
          <div class="code_line">    &lt;/<span class="xml_tag">owl:NamedIndividual</span>&gt;</div>
          <div class="code_line">    </div>
          <div class="code_line">&lt;/<span class="xml_tag">rdf:RDF</span>&gt;</div>
        </div>

        <p>The "frame_obj" individual is kept as it was using the default OBJ mesh.</p>

        <p>For the "frame_stl", we have added a new relation using the <b>hasTexture</b> data property. 
           It works exactly like hasMesh but points toward an image texture to be applied.
        </p>

        <p>For the "frame_green", we have overwritten the mesh to use the "frame_base.obj" one which does not embed any image texture.
           In addition, we have linked it to the image texture.
        </p>

        <p>Finally, for the "frame_red", we have also linked it to the image texture.</p>

        <p class="tip">In the same way we did with a default mesh applied to the class, you can do it with the texture.</p>

        <p>Relaunch Ontologenius (to update the knowledge base) and Overworld. You should have that:</p>

        <img src="../../images/Tutorials/tutorial2/bullet_with_obj_texture.png" alt="tutorial 2 bullet with texture from the ontology" width="60%" class="center"/>

        <p>It's exactly the same as before...</p>

        <p>Indeed, as the STL meshes do not support textures, they are not considered.
           For the OBJ, even if it looks the same, the "frame_red" mesh has been changed for a mesh not embedding any texture.
           This means that Overworld correctly took the texture from the ontology.
        </p>

        <p>Now that we are able to create meshes and textures, and to link them to objects in an ontology to make them spawn in the world, we have to move to non-static objects!</p>

        <nav class="course-pagination">
          <a href="../tutorial2/CreateTexture.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Create a texture</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="../tutorial3/DescribeYourObjects.html" class="course-pagination__btn">
            <span>Sense your environment</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
